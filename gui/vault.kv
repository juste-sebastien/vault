#:kivy 2.1.0

<LoginScreen>:
    name: "login"
    BoxLayout:
        orientation: "vertical"
        padding: "10dp", 0, "10dp", "15dp"
        spacing: "10dp"
        canvas.before:
            Rectangle:
                source: "./img/black_sofa.png"
                size: root.width, root.height
                pos: self.pos
        Image:
            source: "./img/logo.png"
        Widget:
        Label:
            bold: True
            color: 0.83, 0.69, 0.22
            size_hint: None, None
            height: "25dp"
            width: "50dp"
            pos_hint: {"x": 0.1}
            text: "Login"
        RoundedInput:
            id: login
            color: 1, 0, 0, 1
            size_hint: 0.8, None
            multiline: False
            write_tab: False
            focus: True
            height: "30dp"
            pos_hint: {"center_x": 0.5}
        Label:
            bold: True
            color: 0.83, 0.69, 0.22
            text: "Password"
            size_hint: None, None
            height: "25dp"
            width: "75dp"
            pos_hint: {"x": 0.1}

        RoundedInput:
            id: pwd
            size_hint: 0.8, None
            multiline: False
            height: "30dp"
            pos_hint: {"center_x": 0.5, "top": 1}
            password: True
            on_text_validate: root.on_click(login.text, pwd.text)
        Widget:
        RoundedButton:
            text: "Connect"
            size_hint: 0.5, 0.5
            on_press: root.on_click(login.text, pwd.text)
            pos_hint: {"center_x": 0.5}


<WelcomeScreen>:
    name: "welcome"
    canvas.before:
        Rectangle:
            source: "./img/black_sofa.png"
            size: root.width, root.height
            pos: self.pos
    GridLayout:
        cols: 1
        rows: 3
        padding: "20dp"
        Logo:
        Label:
            text_size: self.width, None
            text: root.print_usages_warns()
        BoxLayout:
            size_hint: 1, None
            height: "40dp"
            spacing: "5dp"
            Button:
                id: consult
                text: "Consult"
                on_press: root.get_screen(self.text)

            Button:
                id: modify
                text: "Modify"
                on_press: root.get_screen(self.text)
            Button:
                id: generate
                text: "Generate"
                on_press: root.get_screen(self.text)
            Button:
                id: logout
                text: "Logout"
                on_press: root.get_screen(self.text)


<ModifyScreen>:
    name: "modify"
    canvas.before:
        Rectangle:
            source: "./img/black_sofa.png"
            size: root.width, root.height
            pos: self.pos
    GridLayout:
        cols: 1
        rows: 4
        padding: "20dp"
        Logo:
        BoxLayout:
            spacing: "20dp"
            size_hint: 0.5, None
            height: "60dp"
            pos_hint: {"center_x": 0.5}
            Label:
                id: add_label
                text: "Add"
            CheckBox:
                id: add_radiobox
                group: "modify_vault"
                on_active: root.get_screen(add_label.text)
            Label:
                id: del_label
                text: "Del"
            CheckBox:
                id: del_radiobox
                group: "modify_vault"
                on_active: root.get_screen(del_label.text)
            Label:
                id: update_label
                text: "Modify"
            CheckBox:
                id: update_input
                group: "modify_vault"
                on_active: root.get_screen(update_label.text)
        Widget:
        BoxLayout:
            size_hint: 1, None
            height: "40dp"
            spacing: "5dp"
            Button:
                id: consult
                text: "Consult"
                on_press: root.get_screen(self.text)
            Button:
                id: modify
                text: "Modify"
                on_press: root.get_screen(self.text)
            Button:
                id: generate
                text: "Generate"
                on_press: root.get_screen(self.text)
            Button:
                id: logout
                text: "Logout"
                on_press: root.get_screen(self.text)


<AddScreen>:
    name: "add"
    canvas.before:
        Rectangle:
            source: "./img/black_sofa.png"
            size: root.width, root.height
            pos: self.pos
    GridLayout:
        cols: 1
        rows: 4
        padding: "20dp"
        Logo:
        BoxLayout:
            spacing: "20dp"
            size_hint: 0.5, None
            height: "60dp"
            pos_hint: {"center_x": 0.5}
            Label:
                id: add_label
                text: "Add"
            CheckBox:
                id: add_radiobox
                group: "modify_vault"
                on_active: root.get_screen(root.name)
            Label:
                id: del_label
                text: "Del"
            CheckBox:
                id: del_radiobox
                group: "modify_vault"
                on_active: root.get_screen(root.name)
            Label:
                id: update_label
                text: "Update"
            CheckBox:
                id: update_input
                group: "modify_vault"
                on_active: root.get_screen(root.name)
        GridLayout:
            cols: 1
            size_hint: 0.8, 1
            spacing: "5dp"
            GridLayout:
                cols: 2
                Label:
                    text: "Name"
                TextInput:
                Label:
                    text: "Login"
                TextInput:
                Label:
                    text: "Password"
                TextInput:
                Label:
                    text: "Url"
                TextInput:
            Button:
                text: "Add to my Vault"
        BoxLayout:
            size_hint: 1, None
            height: "40dp"
            spacing: "5dp"
            Button:
                id: consult
                text: "Consult"
                on_press: root.get_screen(self.text)
            Button:
                id: modify
                text: "Modify"
                on_press: root.get_screen(self.text)
            Button:
                id: generate
                text: "Generate"
                on_press: root.get_screen(self.text)
            Button:
                id: logout
                text: "Logout"
                on_press: root.get_screen(self.text)


<DelScreen>:
    name: "del"
    canvas.before:
        Rectangle:
            source: "./img/black_sofa.png"
            size: root.width, root.height
            pos: self.pos
    GridLayout:
        cols: 1
        rows: 4
        padding: "20dp"
        Logo:
        BoxLayout:
            spacing: "20dp"
            size_hint: 0.5, None
            height: "60dp"
            pos_hint: {"center_x": 0.5}
            Label:
                id: add_label
                text: "Add"
            CheckBox:
                id: add_radiobox
                group: "modify_vault"
                on_active: root.get_screen(root.name)
            Label:
                id: del_label
                text: "Del"
            CheckBox:
                id: del_radiobox
                group: "modify_vault"
                on_active: root.get_screen(root.name)
            Label:
                id: update_label
                text: "Update"
            CheckBox:
                id: update_input
                group: "modify_vault"
                on_active: root.get_screen(root.name)
        GridLayout:
            cols: 1
            size_hint: 0.8, 1
            spacing: "5dp"
            GridLayout:
                cols: 2
                Label:
                    text: "Name"
                TextInput:
            Button:
                text: "Delete in my Vault"
        BoxLayout:
            size_hint: 1, None
            height: "40dp"
            spacing: "5dp"
            Button:
                id: consult
                text: "Consult"
                on_press: root.get_screen(self.text)
            Button:
                id: modify
                text: "Modify"
                on_press: root.get_screen(self.text)
            Button:
                id: generate
                text: "Generate"
                on_press: root.get_screen(self.text)
            Button:
                id: logout
                text: "Logout"
                on_press: root.get_screen(self.text)


<UpdateScreen>:
    name: "update"
    canvas.before:
        Rectangle:
            source: "./img/black_sofa.png"
            size: root.width, root.height
            pos: self.pos
    GridLayout:
        cols: 1
        rows: 4
        padding: "20dp"
        Logo:
        BoxLayout:
            spacing: "20dp"
            size_hint: 0.5, None
            height: "60dp"
            pos_hint: {"center_x": 0.5}
            Label:
                id: add_label
                text: "Add"
            CheckBox:
                id: add_radiobox
                group: "modify_vault"
                on_active: root.get_screen(root.name)
            Label:
                id: del_label
                text: "Del"
            CheckBox:
                id: del_radiobox
                group: "modify_vault"
                on_active: root.get_screen(root.name)
            Label:
                id: update_label
                text: "Update"
            CheckBox:
                id: update_input
                group: "modify_vault"
                on_active: root.get_screen(root.name)
        GridLayout:
            cols: 1
            size_hint: 0.8, 1
            spacing: "5dp"
            GridLayout:
                cols: 2
                Label:
                    text: "Name"
                TextInput:
                Label:
                    text: "Login"
                TextInput:
                Label:
                    text: "Password"
                TextInput:
                Label:
                    text: "Url"
                TextInput:
            Button:
                text: "Update in my Vault"
        BoxLayout:
            size_hint: 1, None
            height: "40dp"
            spacing: "5dp"
            Button:
                id: consult
                text: "Consult"
                on_press: root.get_screen(self.text)
            Button:
                id: modify
                text: "Modify"
                on_press: root.get_screen(self.text)
            Button:
                id: generate
                text: "Generate"
                on_press: root.get_screen(self.text)
            Button:
                id: logout
                text: "Logout"
                on_press: root.get_screen(self.text)

<GenerateScreen>:
    name: "generate"
    canvas.before:
        Rectangle:
            source: "./img/black_sofa.png"
            size: root.width, root.height
            pos: self.pos
    GridLayout:
        cols: 1
        rows: 5
        padding: "20dp"
        Logo:
        BoxLayout:
            orientation: "vertical"
            Label:
                bold: True
                color: 0.83, 0.69, 0.22
                text: "Choose length:"
            Slider:
                id: pwd_length
                min: 0
                max: 32
                value: 8
            Label:
                bold: True
                color: 0.83, 0.69, 0.22
                text: str(int(pwd_length.value))
        GridLayout:
            cols: 2
            CheckBox:
                name: "alphabet"
                size_hint: None, 1/3
                width: "60dp"
                active: True
                on_active: root.add_to_list(self)
            Label:
                bold: True
                color: 0.83, 0.69, 0.22
                text: "include letters from a to z"
            CheckBox:
                name: "digits"
                size_hint: None, 1/3
                width: "60dp"
                active: False
                on_active: root.add_digits_to_list(self)
            Label:
                bold: True
                color: 0.83, 0.69, 0.22
                text: "include digits from 0 to 9"
            CheckBox:
                name: "spec_char"
                size_hint: None, 1/3
                width: "60dp"
                active: False
                on_active: root.add_spec_to_list(self)
            Label:
                bold: True
                color: 0.83, 0.69, 0.22
                text: "include !#$%&*+-./:;<=>?@\."
        BoxLayout:
            orientation: "vertical"
            spacing: "5dp"
            size_hint: 0.5, 0.5
            Button:
                id: generate_button
                text: "Generate"
                on_press: root.do_generate(pwd_length)
                size_hint: 0.5, 0.5
                pos_hint: {"center_x": 0.5}
            Label:
                bold: True
                color: 0.83, 0.69, 0.22
                text: root.pwd
        BoxLayout:
            size_hint: 1, None
            height: "40dp"
            spacing: "5dp"
            Button:
                id: consult
                text: "Consult"
                on_press: root.get_screen(self.text)
            Button:
                id: modify
                text: "Modify"
                on_press: root.get_screen(self.text)
            Button:
                id: generate
                text: "Generate"
                on_press: root.get_screen(self.text)
            Button:
                id: logout
                text: "Logout"
                on_press: root.get_screen(self.text)


<Logo@BoxLayout>:
    size_hint: 1, None
    height: "50dp"
    Image:
        source: "./img/logo.png"
        keep_ratio: True


<RoundedButton@Button>:
    background_color: (0,0,0,0)
    background_normal: ""
    canvas.before:
        Color:
            rgba: (0, 17/255, 17/255, 0.8)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [30]


<RoundedInput@TextInput>:
    background_color: (0,0,0,0)
    background_normal: ""
    font_color: (1,1,1)
    canvas.before:
        Color:
            rgba: (0/255, 0/255, 0/255, 1)
    canvas.after:
        Color:
            rgba: (1,1,1, 0.02)
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: [10]