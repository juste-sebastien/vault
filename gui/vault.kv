#:kivy 2.1.0

<LoginScreen>:
    name: "login"
    radius: [25, 0, 0, 0]
    BoxLayout:
        orientation: "vertical"
        padding: "10dp", 0, "10dp", "15dp"
        spacing: "10dp"
        Image:
            source: "./img/logo.png"
        Widget:
        MDTextField:
            id: login
            mode: "line"
            hint_text: "Username"
            icon_right: "account"
            color: 1, 0, 0, 1
            size_hint: 0.8, None
            multiline: False
            write_tab: False
            height: "30dp"
            pos_hint: {"center_x": 0.5}
        MDTextField:
            id: pwd
            mode: "line"
            icon_right: "eye-off"
            hint_text: "Password"
            size_hint: 0.8, None
            multiline: False
            height: "30dp"
            pos_hint: {"center_x": 0.5, "top": 1}
            password: True
            on_text_validate: root.on_click(login.text, pwd.text)
        Widget:
        MDRoundFlatButton:
            text: "Connect"
            size_hint: 0.5, 0.5
            on_press: root.on_click(login.text, pwd.text)
            pos_hint: {"center_x": 0.5}
        MDRoundFlatButton:
            text: "Clear"
            size_hint: 0.35, 0.5
            on_press: root.clear()
            pos_hint: {"center_x": 0.5}


<WelcomeScreen>:
    name: "welcome"
    radius: [25, 0, 0, 0]
    GridLayout:
        cols: 1
        rows: 3
        padding: "20dp"
        Logo:
        MDLabel:
            text_size: self.width, None
            theme_text_color: "Custom"
            text_color: 0.89, 0.61, 0.29, 1
            text: root.print_usages_warns()
            halign: "justify"
        BoxLayout:
            size_hint: root.width, None
            height: "40dp"
            spacing: "5dp"
            MDRectangleFlatIconButton:
                id: consult
                text: "Consult"
                icon: "archive-eye-outline"
                on_press: app.change_screen(widget=self, screen=root)
            MDRectangleFlatIconButton:
                id: modify
                text: "Modify"
                icon: "archive-edit-outline"
                on_press: app.change_screen(widget=self, screen=root)
            MDRectangleFlatIconButton:
                id: generate
                text: "Generate"
                icon: "shield-edit-outline"
                on_press: app.change_screen(widget=self, screen=root)
            MDRectangleFlatIconButton:
                id: logout
                text: "Logout"
                icon: "logout"
                on_press: app.change_screen(widget=self, screen=root)


<ModifyScreen>:
    name: "modify"
    canvas.before:
        Rectangle:
            source: "./img/black_sofa.png"
            size: root.width, root.height
            pos: self.pos
    GridLayout:
        cols: 1
        rows: 4
        padding: "20dp"
        Logo:
        BoxLayout:
            spacing: "20dp"
            size_hint: 0.5, None
            height: "60dp"
            pos_hint: {"center_x": 0.5}
            MDLabel:
                id: add_label
                theme_text_color: "Custom"
                text: "Add"
            CheckBox:
                id: add_radiobox
                group: "modify_vault"
                color: 1, 1, 0, 1
                on_active: app.change_screen(widget=add_label, screen=root)
            MDLabel:
                id: delete_label
                theme_text_color: "Custom"
                text: "Delete"
            CheckBox:
                id: "delele_radiobox"
                group: "modify_vault"
                color: 1, 1, 0, 1
                on_active: app.change_screen(widget=delete_label, screen=root)
            MDLabel:
                id: update_label
                theme_text_color: "Custom"
                text: "Update"
            CheckBox:
                id: update_radiobox
                group: "modify_vault"
                color: 1, 1, 0, 1
                on_active: app.change_screen(widget=update_label, screen=root)
        Widget:
        BoxLayout:
            size_hint: 1, None
            height: "40dp"
            spacing: "5dp"
            MDRectangleFlatIconButton:
                id: consult
                text: "Consult"
                icon: "archive-eye-outline"
                on_press: app.change_screen(widget=self, screen=root)

            MDRectangleFlatIconButton:
                id: modify
                text: "Modify"
                icon: "archive-edit-outline"
                on_press: app.change_screen(widget=self, screen=root)
            MDRectangleFlatIconButton:
                id: generate
                text: "Generate"
                icon: "shield-edit-outline"
                on_press: app.change_screen(widget=self, screen=root)
            MDRectangleFlatIconButton:
                id: logout
                text: "Logout"
                icon: "logout"
                on_press: app.change_screen(widget=self, screen=root)


<AddScreen>:
    name: "add"
    canvas.before:
        Rectangle:
            source: "./img/black_sofa.png"
            size: root.width, root.height
            pos: self.pos
    GridLayout:
        cols: 1
        rows: 4
        padding: "20dp"
        Logo:
        BoxLayout:
            spacing: "20dp"
            size_hint: 0.5, None
            height: "60dp"
            pos_hint: {"center_x": 0.5}
            MDLabel:
                id: add_label
                theme_text_color: "Custom"
                text: "Add"
            CheckBox:
                id: add_radiobox
                group: "modify_vault"
                color: 1, 1, 0, 1
                on_active: app.change_screen(widget=add_label, screen=root)
            MDLabel:
                id: delete_label
                theme_text_color: "Custom"
                text: "Delete"
            CheckBox:
                id: "delele_radiobox"
                group: "modify_vault"
                color: 1, 1, 0, 1
                on_active: app.change_screen(widget=delete_label, screen=root)
            MDLabel:
                id: update_label
                theme_text_color: "Custom"
                text: "Update"
            CheckBox:
                id: update_radiobox
                group: "modify_vault"
                color: 1, 1, 0, 1
                on_active: app.change_screen(widget=update_label, screen=root)
        GridLayout:
            cols: 1
            size_hint: 0.8, 1
            spacing: "5dp"
            GridLayout:
                cols: 2
                Label:
                    text: "Name"
                MDTextField:
                Label:
                    text: "Login"
                MDTextField:
                Label:
                    text: "Password"
                MDTextField:
                    password: True
                Label:
                    text: "Url"
                MDTextField:
            MDRectangleFlatIconButton:
                text: "Add to my Vault"
        BoxLayout:
            size_hint: 1, None
            height: "40dp"
            spacing: "5dp"
            MDRectangleFlatIconButton:
                id: consult
                text: "Consult"
                icon: "archive-eye-outline"
                on_press: app.change_screen(widget=self, screen=root)

            MDRectangleFlatIconButton:
                id: modify
                text: "Modify"
                icon: "archive-edit-outline"
                on_press: app.change_screen(widget=self, screen=root)
            MDRectangleFlatIconButton:
                id: generate
                text: "Generate"
                icon: "shield-edit-outline"
                on_press: app.change_screen(widget=self, screen=root)
            MDRectangleFlatIconButton:
                id: logout
                text: "Logout"
                icon: "logout"
                on_press: app.change_screen(widget=self, screen=root)

<DelScreen>:
    name: "delete"
    canvas.before:
        Rectangle:
            source: "./img/black_sofa.png"
            size: root.width, root.height
            pos: self.pos
    GridLayout:
        cols: 1
        rows: 4
        padding: "20dp"
        Logo:
        BoxLayout:
            spacing: "20dp"
            size_hint: 0.5, None
            height: "60dp"
            pos_hint: {"center_x": 0.5}
            MDLabel:
                id: add_label
                theme_text_color: "Custom"
                text: "Add"
            CheckBox:
                id: add_radiobox
                group: "modify_vault"
                color: 1, 1, 0, 1
                on_active: app.change_screen(widget=add_label, screen=root)
            MDLabel:
                id: delete_label
                theme_text_color: "Custom"
                text: "Delete"
            CheckBox:
                id: "delele_radiobox"
                group: "modify_vault"
                color: 1, 1, 0, 1
                on_active: app.change_screen(widget=delete_label, screen=root)
            MDLabel:
                id: update_label
                theme_text_color: "Custom"
                text: "Update"
            CheckBox:
                id: update_radiobox
                group: "modify_vault"
                color: 1, 1, 0, 1
                on_active: app.change_screen(widget=update_label, screen=root)
        GridLayout:
            cols: 1
            size_hint: 0.8, 1
            spacing: "5dp"
            GridLayout:
                cols: 2
                Label:
                    text: "Name"
                MDTextField:
            MDRectangleFlatIconButton:
                text: "Delete in my Vault"
        BoxLayout:
            size_hint: 1, None
            height: "40dp"
            spacing: "5dp"
            MDRectangleFlatIconButton:
                id: consult
                text: "Consult"
                icon: "archive-eye-outline"
                on_press: app.change_screen(widget=self, screen=root)

            MDRectangleFlatIconButton:
                id: modify
                text: "Modify"
                icon: "archive-edit-outline"
                on_press: app.change_screen(widget=self, screen=root)
            MDRectangleFlatIconButton:
                id: generate
                text: "Generate"
                icon: "shield-edit-outline"
                on_press: app.change_screen(widget=self, screen=root)
            MDRectangleFlatIconButton:
                id: logout
                icon: "logout"
                text: "Logout"
                on_press: app.change_screen(widget=self, screen=root)


<UpdateScreen>:
    name: "update"
    canvas.before:
        Rectangle:
            source: "./img/black_sofa.png"
            size: root.width, root.height
            pos: self.pos
    GridLayout:
        cols: 1
        rows: 4
        padding: "20dp"
        Logo:
        BoxLayout:
            spacing: "20dp"
            size_hint: 0.5, None
            height: "60dp"
            pos_hint: {"center_x": 0.5}
            MDLabel:
                id: add_label
                theme_text_color: "Custom"
                text: "Add"
            CheckBox:
                id: add_radiobox
                group: "modify_vault"
                color: 1, 1, 0, 1
                on_active: app.change_screen(widget=add_label, screen=root)
            MDLabel:
                id: delete_label
                theme_text_color: "Custom"
                text: "Delete"
            CheckBox:
                id: "delele_radiobox"
                group: "modify_vault"
                color: 1, 1, 0, 1
                on_active: app.change_screen(widget=delete_label, screen=root)
            MDLabel:
                id: update_label
                theme_text_color: "Custom"
                text: "Update"
            CheckBox:
                id: update_radiobox
                group: "modify_vault"
                color: 1, 1, 0, 1
                on_active: app.change_screen(widget=update_label, screen=root)
        GridLayout:
            cols: 1
            size_hint: 0.8, 1
            spacing: "5dp"
            GridLayout:
                cols: 2
                Label:
                    text: "Name"
                MDTextField:
                Label:
                    text: "Login"
                MDTextField:
                Label:
                    text: "Password"
                MDTextField:
                    password: True
                Label:
                    text: "Url"
                MDTextField:
            MDRectangleFlatIconButton:
                text: "Update in my Vault"
        BoxLayout:
            size_hint: 1, None
            height: "40dp"
            spacing: "5dp"
            MDRectangleFlatIconButton:
                id: consult
                text: "Consult"
                icon: "archive-eye-outline"
                on_press: app.change_screen(widget=self, screen=root)

            MDRectangleFlatIconButton:
                id: modify
                text: "Modify"
                icon: "archive-edit-outline"
                on_press: app.change_screen(widget=self, screen=root)
            MDRectangleFlatIconButton:
                id: generate
                text: "Generate"
                icon: "shield-edit-outline"
                on_press: app.change_screen(widget=self, screen=root)
            MDRectangleFlatIconButton:
                id: logout
                icon: "logout"
                text: "Logout"
                on_press: app.change_screen(widget=self, screen=root)

<GenerateScreen>:
    name: "generate"
    canvas.before:
        Rectangle:
            source: "./img/black_sofa.png"
            size: root.width, root.height
            pos: self.pos
    GridLayout:
        cols: 1
        rows: 5
        padding: "20dp"
        Logo:
        BoxLayout:
            orientation: "vertical"
            MDLabel:
                bold: True
                theme_text_color: "Custom"
                text: "Choose length:"
            MDSlider:
                id: pwd_length
                min: 0
                max: 32
                value: 8
                hint: True
        GridLayout:
            cols: 2
            CheckBox:
                name: "alphabet"
                size_hint: None, 1/3
                color: 1, 1, 0, 1
                width: "60dp"
                active: True
                on_active: root.add_to_list(self)
            MDLabel:
                bold: True
                theme_text_color: "Custom"
                text: "include letters from a to z"
            CheckBox:
                name: "digits"
                size_hint: None, 1/3
                color: 1, 1, 0, 1
                width: "60dp"
                active: False
                on_active: root.add_digits_to_list(self)
            MDLabel:
                bold: True
                theme_text_color: "Custom"
                text: "include digits from 0 to 9"
            CheckBox:
                name: "spec_char"
                size_hint: None, 1/3
                color: 1, 1, 0, 1
                width: "60dp"
                active: False
                on_active: root.add_spec_to_list(self)
            MDLabel:
                bold: True
                theme_text_color: "Custom"
                text: "include !#$%&*+-./:;<=>?@\."
        BoxLayout:
            orientation: "vertical"
            spacing: "5dp"
            size_hint: 0.5, 0.5
            MDRectangleFlatIconButton:
                id: generate_button
                text: "Generate"
                on_press: root.do_generate(pwd_length)
                size_hint: 0.5, 0.5
                pos_hint: {"center_x": 0.5}
            MDLabel:
                bold: True
                theme_text_color: "Custom"
                text: root.pwd
        BoxLayout:
            size_hint: 1, None
            height: "40dp"
            spacing: "5dp"
            MDRectangleFlatIconButton:
                id: consult
                text: "Consult"
                icon: "archive-eye-outline"
                on_press: app.change_screen(widget=self, screen=root)

            MDRectangleFlatIconButton:
                id: modify
                text: "Modify"
                icon: "archive-edit-outline"
                on_press: app.change_screen(widget=self, screen=root)
            MDRectangleFlatIconButton:
                id: generate
                text: "Generate"
                icon: "shield-edit-outline"
                on_press: app.change_screen(widget=self, screen=root)
            MDRectangleFlatIconButton:
                id: logout
                icon: "logout"
                text: "Logout"
                on_press: app.change_screen(widget=self, screen=root)


<Logo@BoxLayout>:
    size_hint: 1, None
    height: "50dp"
    Image:
        source: "./img/logo.png"
        keep_ratio: True

<NavBar@MDBottomNavigation>:
    MDBottomNavigationItem:
        name: "consult"
        text: "Consult"
        icon: "archive-eye-outline"
    MDBottomNavigationItem:
        name: "modify"
        text: "Modify"
        icon: "archive-cog-outline"
    MDBottomNavigationItem:
        name: "generate"
        text: "Generate"
        icon: "shield-edit-outline"
    MDBottomNavigationItem:
        name: "logout"
        text: "Logout"
        icon: "logout"
